<!DOCTYPE html>
<html lang="en">

{{ template "block/head.html" . }}

<body>
<div class="loader"></div>
<div id="app">
    <div class="main-wrapper main-wrapper-1">
        <div class="navbar-bg"></div>
        {{ template "block/nav.html" . }}

        <!-- Main Content -->
        {{ template "block/historyReportLeftBar.html" . }}

        <div class="main-content">
            <section class="section">

                <div class="section-body">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Category History</h4>
                                </div>
                                <div class="card-body">
{{/*                                    {{ template "block/versiontab.html" .}}*/}}
                                    <div class="tab-content" id="myTabContent2">
                                        <div class="tab-pane fade show active" id="jobTab" role="tabpanel" aria-labelledby="home-tab3">
                                            <section class="section">

                                                <div class="section-body" id="showDateInfo">

                                                </div>
                                            </section>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            {{ template "block/rightbar.html" . }}
        </div>
        <footer class="main-footer">
            <div class="footer-left">
                Copyright &copy; 2019 <div class="bullet"></div> Design By <a href="http://www.bootstrapmb.com/">Redstar</a>
            </div>
            <div class="footer-right">
            </div>
        </footer>
    </div>
</div>
<!-- General JS Scripts -->
<script src="/static/assets/js/app.min.js"></script>
<!-- JS Libraies -->
<!-- Page Specific JS File -->
<script src="/static/assets/bundles/datatables/datatables.min.js"></script>
<script src="/static/assets/bundles/datatables/DataTables-1.10.16/js/dataTables.bootstrap4.min.js"></script>
<script src="/static/assets/bundles/datatables/export-tables/dataTables.buttons.min.js"></script>
<script src="/static/assets/bundles/datatables/export-tables/buttons.flash.min.js"></script>
<script src="/static/assets/bundles/datatables/export-tables/jszip.min.js"></script>
<script src="/static/assets/bundles/datatables/export-tables/pdfmake.min.js"></script>
<script src="/static/assets/bundles/datatables/export-tables/vfs_fonts.js"></script>
<script src="/static/assets/bundles/datatables/export-tables/buttons.print.min.js"></script>
<script src="/static/assets/js/page/datatables.js"></script>
<!-- Template JS File -->
<script src="/static/assets/js/scripts.js"></script>
<!-- Custom JS File -->
<script src="/static/assets/js/custom.js"></script>

<script>
    function showDateInfo(sep){
        var contents = {{$.Contents}}
        debugger
        var dateInfoList = contents[sep]
        var innerHtml="<table class="+"table table-striped table-hover"+"  style="+"width:100%;"+">" +
            "<tr><th>Project Name</th>" +
            "<th>Total Test Case</th>" +
            "<th>Executed#</th>" +
            "<th>Pass#</th>" +
            "<th>Fail#</th>" +
            "<th>Execute Ratio</th>" +
            "<th>Pass Ratio</th>" +
            "<th>Fail Ratio</th>" +
            "</tr>"

        var AggregateHistoryLi = dateInfoList['AggregateHistoryLi']

        for(let i=0; i<AggregateHistoryLi.length; i++){
            var trHtml = "<tr>" +
                "<td>" + AggregateHistoryLi[i]['project_name'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['total_job'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['executed'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['pass'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['fail'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['exe_ratio'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['pass_ratio'] + "</td>" +
                "<td>" + AggregateHistoryLi[i]['fail_ratio'] + "</td>" +
                "</tr>";

            innerHtml += trHtml;
        }
        innerHtml += "</table>";
        $("#showDateInfo").html(innerHtml)

        // var save_time = dateInfoList['save_time']
    }
</script>
</body>

</html>